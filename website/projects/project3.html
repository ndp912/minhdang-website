<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Parc Villa Sài Gòn</title>
    <link rel="stylesheet" href="./projects.css" />
  </head>
  <body>

    <!-- PreLoader-->

    <div class="pre-loader">
      <div class="pre-loader-content">
        <div class="pre-loader-text">MinhDang <span>Interior</span></div>
          <div class="loader"></div>
      </div>
    </div>

    <!-- NavBar-->

    <nav class="app__navbar">
      <div class="app__navbar-logo">
          <a href="../index.html"><img src="../assets/img/logos/Gold.png" alt="app logo" /></a>
      </div> 
    </nav>

    <div class="container">
      <h1 class="p__cormorant">
        Dive into our interior design gallery to discover a world of stylish inspiration. From chic modern spaces to inviting, cozy interiors, 
        our collection offers a variety of design ideas to help you envision and create your perfect home. Explore and get inspired by 
        innovative styles and practical solutions.
      </h1>
    </div>

    <div class="gallery">
      <div class="minimap">
        <div class="preview"></div>
      </div>
      <div class="images">
        <div class="img">
          <img src="../assets/img/projects/20.jpg" alt="" />
        </div>
        <div class="img">
          <img src="../assets/img/projects/21.jpg" alt="" />
        </div>
        <div class="img">
          <img src="../assets/img/projects/22.jpg" alt="" />
        </div>
        <div class="img">
          <img src="../assets/img/projects/23.jpg" alt="" />
        </div>
        <div class="img">
          <img src="../assets/img/projects/24.jpg" alt="" />
        </div>
        <div class="img">
          <img src="../assets/img/projects/25.jpg" alt="" />
        </div>
       </div>
    </div>

    <div class="container">
      <h1 class="p__cormorant">
        Let our interior design gallery be your source of inspiration as you transform your living spaces. With a variety of styles and innovative ideas, 
        our collection helps you envision a home that’s both stylish and practical. Dive into our images and start creating your dream environment today.
      </h1>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/ScrollTrigger.min.js"></script>
    <script>
          document.addEventListener('DOMContentLoaded', function() {
          const numberOfImages = 6;
          const minimap = document.querySelector('.minimap .preview');
          const fullSizeContainer = document.querySelector('.images');

          function getRandomLeft() {
              const values = [-15, -7.5, 0, 7.5, 15];
              return values[Math.floor(Math.random() * values.length)] + 'px';
          }

          minimap.innerHTML = '';
          fullSizeContainer.innerHTML = '';

          let activeThumbnail = null;

          for (let i = 1; i <= numberOfImages; i++) {
              const randomLeft = getRandomLeft();
              const imagePath = `../assets/img/projects/${i + 19}.jpg`;

              const thumbnailDiv = document.createElement('div');
              thumbnailDiv.className = 'img-thumbnail';
              thumbnailDiv.style.left = randomLeft;
              const imgThumbnail = document.createElement('img');
              imgThumbnail.src = imagePath;
              thumbnailDiv.appendChild(imgThumbnail);
              minimap.appendChild(thumbnailDiv);

              const imgDiv = document.createElement('div');
              imgDiv.className = 'img';
              imgDiv.style.left = randomLeft;
              const imgFull = document.createElement('img');
              imgFull.src = imagePath;
              imgDiv.appendChild(imgFull);
              fullSizeContainer.appendChild(imgDiv);

              gsap.registerPlugin(ScrollTrigger);
              ScrollTrigger.create({
                  trigger: imgDiv,
                  start: "top center",
                  end: "bottom center",
                  onToggle: self => {
                      if (self.isActive) {
                          if (activeThumbnail && activeThumbnail !== thumbnailDiv) {
                              animateThumbnail(activeThumbnail, false);
                          }
                          animateThumbnail(thumbnailDiv, true);
                          activeThumbnail = thumbnailDiv;
                      } else if (activeThumbnail === thumbnailDiv) {
                          animateThumbnail(thumbnailDiv, false);
                      }
                  }
              });
          }

          function animateThumbnail(thumbnail, isActive) {
              gsap.to(thumbnail, {
                  border: isActive ? '1px solid rgba(255, 255, 255, 1)' : 'none',
                  opacity: isActive ? 1 : 0.5,
                  scale: isActive ? 1.3 : 1,
                  zIndex: isActive ? 10000 : 1,
                  duration: 0.3
              });
          }
      });

      gsap.from(".pre-loader-text", 0.8, {
        y: 40,
        opacity: 0,
        ease: "power2.inOut",
        delay: 1,
      });
      
      gsap.from(".loader", 2, {
        width: 0,
        ease: "power4.inOut",
        delay: 2,
      });
      
      gsap.to(".pre-loader", 2, {
        top: "-100%",
        ease: "power4.inOut",
        delay: 4,
      });
    </script>
  </body>
</html>
